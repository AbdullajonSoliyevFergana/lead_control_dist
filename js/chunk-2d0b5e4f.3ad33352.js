(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5e4f"],{"1b9a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("lead-list")],1)],1)},n=[],i=a("a15b7"),s=a("b28b"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",{staticClass:"match-height"},[a("b-col",{attrs:{cols:"12"}},[a("b-modal",{ref:"modal-form",attrs:{"no-close-on-backdrop":"",id:"modal-form",centered:"","hide-footer":"",size:"sm",title:"Set comment"}},[a("b-overlay",{attrs:{show:t.loader_item,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[a("b-card-text",[a("div",[a("validation-observer",{ref:"simpleRules"},[a("b-form",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("label",{attrs:{for:"textarea-default"}},[t._v("Comment")]),a("b-form-textarea",{attrs:{id:"textarea-default",rows:"3"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex align-items-center justify-content-end my-1"},[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:function(e){return e.preventDefault(),t.changeItem(t.get_item,t.get_item.status,"comment")}}},[t._v(" Save ")])],1)])],1)],1)],1)],1)])],1)],1)],1)],1),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("b-card",{staticClass:"text-center bg-primary bg-lighten-2",attrs:{"no-body":""}},[a("h5",{staticClass:"m-1 text-white"},[t._v("New lead")])]),a("b-overlay",{attrs:{show:t.loader,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[t.loader?t._e():a("div",[0==t.new_lead.length?a("div",{staticClass:"text-center"},[a("span",{staticClass:"text-warning"},[t._v("Empty list!")])]):a("div",t._l(t.new_lead,(function(e){return a("div",{key:e.id},[a("b-card",{staticClass:"text-center mb-1 p-1",attrs:{"no-body":""}},[a("span",[t._v("+"+t._s(e.phone))]),a("span",[t._v(t._s(e.comment))]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"my")}}},[t._v(" To my list ")])],1)],1)})),0)])])],1),a("div",{staticClass:"col-md-2"},[a("b-card",{staticClass:"text-center bg-primary bg-lighten-2",attrs:{"no-body":""}},[a("h5",{staticClass:"m-1 text-white"},[t._v("My list")])]),a("b-overlay",{attrs:{show:t.loader,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[t.loader?t._e():a("div",[0==t.my_lead.length?a("div",{staticClass:"text-center"},[a("span",{staticClass:"text-warning"},[t._v("Empty list!")])]):a("div",t._l(t.my_lead,(function(e){return a("div",{key:e.id},[a("b-card",{staticClass:"text-center mb-1 p-1",attrs:{"no-body":""}},[a("span",[t._v("+"+t._s(e.phone))]),a("span",[t._v(t._s(e.comment))]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.callItem(e.phone)}}},[t._v(" Call ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.getItem(e.id)}}},[t._v(" Comment ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"recall")}}},[t._v(" To recall ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"didntpickup")}}},[t._v(" To didn't pickup ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"coming")}}},[t._v(" To coming ")])],1)],1)})),0)])])],1),a("div",{staticClass:"col-md-2"},[a("b-card",{staticClass:"text-center bg-primary bg-lighten-2",attrs:{"no-body":""}},[a("h5",{staticClass:"m-1 text-white"},[t._v("Recall")])]),a("b-overlay",{attrs:{show:t.loader,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[t.loader?t._e():a("div",[0==t.recall_lead.length?a("div",{staticClass:"text-center"},[a("span",{staticClass:"text-warning"},[t._v("Empty list!")])]):a("div",t._l(t.recall_lead,(function(e){return a("div",{key:e.id},[a("b-card",{staticClass:"text-center mb-1 p-1",attrs:{"no-body":""}},[a("span",[t._v("+"+t._s(e.phone))]),a("span",[t._v(t._s(e.comment))]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.getItem(e.id)}}},[t._v(" Comment ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"didntpickup")}}},[t._v(" To didn't pickup ")]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"coming")}}},[t._v(" To coming ")])],1)],1)})),0)])])],1),a("div",{staticClass:"col-md-2"},[a("b-card",{staticClass:"text-center bg-primary bg-lighten-2",attrs:{"no-body":""}},[a("h5",{staticClass:"m-1 text-white"},[t._v("Didn't pickup")])]),a("b-overlay",{attrs:{show:t.loader,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[t.loader?t._e():a("div",[0==t.didntpickup_lead.length?a("div",{staticClass:"text-center"},[a("span",{staticClass:"text-warning"},[t._v("Empty list!")])]):a("div",t._l(t.didntpickup_lead,(function(e){return a("div",{key:e.id},[a("b-card",{staticClass:"text-center mb-1 p-1",attrs:{"no-body":""}},[a("span",[t._v("+"+t._s(e.phone))]),a("span",[t._v(t._s(e.comment))]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"primary"},on:{click:function(a){return t.changeItem(e,"coming")}}},[t._v(" To coming ")])],1)],1)})),0)])])],1),a("div",{staticClass:"col-md-3"},[a("b-card",{staticClass:"text-center bg-primary bg-lighten-2",attrs:{"no-body":""}},[a("h5",{staticClass:"m-1 text-white"},[t._v("Coming")])]),a("b-overlay",{attrs:{show:t.loader,rounded:"sm","spinner-small":"","spinner-type":"grow","spinner-variant":"primary"}},[t.loader?t._e():a("div",[0==t.coming_lead.length?a("div",{staticClass:"text-center"},[a("span",{staticClass:"text-warning"},[t._v("Empty list!")])]):a("div",t._l(t.coming_lead,(function(e){return a("div",{key:e.id},[a("b-card",{staticClass:"text-center mb-1 p-1",attrs:{"no-body":""}},[a("span",[t._v("+"+t._s(e.phone))]),a("span",[t._v(t._s(e.comment))]),a("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{size:"sm",block:"",variant:"success"},on:{click:function(a){return t.changeItem(e,"done")}}},[t._v(" Done ")])],1)],1)})),0)])])],1)])])],1)},c=[],l=a("541c"),d=a("e8a3"),m=a("2b0e"),p=a("b42e"),u=a("c637"),b=a("a723"),v=a("2326"),g=a("906c"),f=a("d82f"),_=a("cf75"),h=a("4a38"),y=a("aa59");function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function x(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){k(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function k(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var C=["a","router-link","button","b-link"],O=Object(f["j"])(y["b"],["event","routerTag"]);delete O.href.default,delete O.to.default;var j=Object(_["d"])(Object(f["m"])(x(x({},O),{},{action:Object(_["c"])(b["g"],!1),button:Object(_["c"])(b["g"],!1),tag:Object(_["c"])(b["s"],"div"),variant:Object(_["c"])(b["s"])})),u["Z"]),I=m["default"].extend({name:u["Z"],functional:!0,props:j,render:function(t,e){var a,r=e.props,n=e.data,i=e.children,s=r.button,o=r.variant,c=r.active,l=r.disabled,d=Object(h["d"])(r),m=s?"button":d?y["a"]:r.tag,u=!!(r.action||d||s||Object(v["a"])(C,r.tag)),b={},f={};return Object(g["s"])(m,"button")?(n.attrs&&n.attrs.type||(b.type="button"),r.disabled&&(b.disabled=!0)):f=Object(_["e"])(O,r),t(m,Object(p["a"])(n,{attrs:b,props:f,staticClass:"list-group-item",class:(a={},k(a,"list-group-item-".concat(o),o),k(a,"list-group-item-action",u),k(a,"active",c),k(a,"disabled",l),a)}),i)}}),B=a("d6e4"),T=a("205f"),$=a("1947"),E=a("9b03"),L=a("9c7d"),z=a("11de"),N=a("e009"),D=a("4ec3"),P=a("223c"),A=a("7bb1"),S={components:{BCardCode:l["a"],BAvatar:d["a"],BListGroupItem:I,BCardText:B["a"],BRow:i["a"],BCol:s["a"],BCard:T["a"],BButton:$["a"],BOverlay:E["a"],BFormTextarea:L["a"],ValidationObserver:A["a"],ValidationProvider:A["b"],BForm:z["a"]},directives:{Ripple:N["a"]},data:function(){return{new_lead:[],my_lead:[],recall_lead:[],didntpickup_lead:[],coming_lead:[],comment:null,loader:!1,loader_item:!1,get_item:null}},methods:{getList:function(){var t=this;this.loader=!0,D["a"].getLeads().then((function(e){t.loader=!1;var a=e.data;if(1==a.success){var r=a.data;t.new_lead=r.new_lead,t.my_lead=r.my_lead,t.recall_lead=r.recall_lead,t.didntpickup_lead=r.didntpickup_lead,t.coming_lead=r.coming_lead}else if(1==a.error_code)localStorage.removeItem("adminData"),t.$router.push({name:"login_admin"}).then((function(){t.$toast({component:P["a"],position:"top-right",props:{title:"Bye",icon:"LogOutIcon",variant:"success",text:"Bye!"}})}));else if(0==a.success)t.$toast({component:P["a"],position:"top-right",props:{title:"Error",icon:"AlertTriangleIcon",variant:"danger",text:"".concat(a.message)}});else{var n=e;t.$toast({component:P["a"],position:"top-right",props:{title:"Error : ".concat(n.status),icon:"AlertTriangleIcon",variant:"danger",text:"".concat(n.statusText)}})}}))},changeItem:function(t,e,a){var r=this;"comment"==a?this.$refs["modal-form"].hide():this.comment=t.comment;var n={lead_id:t.id,to_status:e,comment:this.comment};D["a"].changeLead(n).then((function(t){var e=t.data;if(1==e.success)r.comment=null,r.getList();else if(1==e.error_code)localStorage.removeItem("adminData"),r.$router.push({name:"login_admin"}).then((function(){r.$toast({component:P["a"],position:"top-right",props:{title:"Bye",icon:"LogOutIcon",variant:"success",text:"Bye!"}})}));else if(0==e.success)r.$toast({component:P["a"],position:"top-right",props:{title:"Error",icon:"AlertTriangleIcon",variant:"danger",text:"".concat(e.message)}});else{var a=t;r.$toast({component:P["a"],position:"top-right",props:{title:"Error : ".concat(a.status),icon:"AlertTriangleIcon",variant:"danger",text:"".concat(a.statusText)}})}}))},callItem:function(t){window.open("tel:+".concat(t))},getItem:function(t){var e=this;this.$refs["modal-form"].show(),this.loader_item=!0,D["a"].getLead(t).then((function(t){e.loader_item=!1;var a=t.data;if(1==a.success)e.get_item=a.data,e.comment=e.get_item.comment;else if(1==a.error_code)localStorage.removeItem("adminData"),e.$router.push({name:"login_admin"}).then((function(){e.$toast({component:P["a"],position:"top-right",props:{title:"Bye",icon:"LogOutIcon",variant:"success",text:"Bye!"}})}));else if(0==a.success)e.$toast({component:P["a"],position:"top-right",props:{title:"Error",icon:"AlertTriangleIcon",variant:"danger",text:"".concat(a.message)}});else{var r=t;e.$toast({component:P["a"],position:"top-right",props:{title:"Error : ".concat(r.status),icon:"AlertTriangleIcon",variant:"danger",text:"".concat(r.statusText)}})}}))}},mounted:function(){var t=this;this.$socket.on("update",(function(e){t.getList()}))},created:function(){this.getList()}},R=S,F=a("2877"),J=Object(F["a"])(R,o,c,!1,null,null,null),V=J.exports,Z={components:{BRow:i["a"],BCol:s["a"],LeadList:V}},G=Z,M=Object(F["a"])(G,r,n,!1,null,null,null);e["default"]=M.exports}}]);
//# sourceMappingURL=chunk-2d0b5e4f.3ad33352.js.map